OPTIONS /api/session 204 in 148ms
API handler should not return a value, received object.
 OPTIONS /api/session 204 in 160ms
API handler should not return a value, received object.
 OPTIONS /api/session 204 in 71ms
API handler should not return a value, received object.
 OPTIONS /api/session 204 in 80ms
✅ Sessão válida para: admin2@mail.com
 GET /api/session 200 in 94ms
✅ Sessão válida para: admin2@mail.com
 GET /api/session 200 in 108ms
✅ Sessão válida para: admin2@mail.com
 GET /api/session 200 in 216ms
✅ Sessão válida para: admin2@mail.com
 GET /api/session 200 in 218ms
API handler should not return a value, received object.
 OPTIONS /api/db-status 204 in 120ms
API handler should not return a value, received object.
 OPTIONS /api/db-status 204 in 129ms
API handler should not return a value, received object.
 OPTIONS /api/get-component-versions?baseComponentId=6d41d420-8562-4186-a49a-43c3fd8020ba 204 in 107ms
API handler should not return a value, received object.
 OPTIONS /api/db-status 204 in 53ms
✅ Sessão válida para: admin2@mail.com
 GET /api/session 200 in 63ms
API handler should not return a value, received object.
 OPTIONS /api/db-status 204 in 59ms
🚀 Starting component-versions API request
🔌 Database connection established
🔐 Starting authentication
✅ Authentication successful for user ID: f8465b52-d8ca-4f66-91a8-428b3f065df6
✅ Authentication successful for user: f8465b52-d8ca-4f66-91a8-428b3f065df6
🔍 Fetching versions for component base: 6d41d420-8562-4186-a49a-43c3fd8020ba
🔍 Executing versions query...
✅ Sessão válida para: admin2@mail.com
 GET /api/session 200 in 19ms
📊 Found 2 versions for component base: 6d41d420-8562-4186-a49a-43c3fd8020ba
🔄 Processing version data...
✅ Successfully fetched 2 versions
📊 Response summary: 2 versions for component base 6d41d420-8562-4186-a49a-43c3fd8020ba
🔌 Releasing database connection
🏁 component-versions API request completed
 GET /api/get-component-versions?baseComponentId=6d41d420-8562-4186-a49a-43c3fd8020ba 304 in 122ms
 GET /api/db-status 200 in 140ms
API handler should not return a value, received object.
 OPTIONS /api/get-component-budget-data?componentId=cc8b240d-f251-49f0-9ad4-ee94becb0fc4&orderId=32eaa430-6e70-46b4-a3bb-18b05e84efde 204 in 42ms
API handler should not return a value, received object.
 OPTIONS /api/get-username 204 in 24ms
 GET /api/db-status 200 in 101ms
🌐 Detected language: pt from header: pt
🚀 Starting component-budget-data API request
✅ Authentication successful for user ID: f8465b52-d8ca-4f66-91a8-428b3f065df6
✅ Authentication successful for user ID: f8465b52-d8ca-4f66-91a8-428b3f065df6
🔌 Database connection established
📋 Processing request for componentId: cc8b240d-f251-49f0-9ad4-ee94becb0fc4, orderId: 32eaa430-6e70-46b4-a3bb-18b05e84efde
🔍 Fetching budget data for component: cc8b240d-f251-49f0-9ad4-ee94becb0fc4 with order context: 32eaa430-6e70-46b4-a3bb-18b05e84efde
🔍 Fetching component details for: cc8b240d-f251-49f0-9ad4-ee94becb0fc4
✅ Component found: Componente 1 (Cópia 2) (v2)
🔍 Finishings count: 3
🔍 Fetching available versions for component base: 6d41d420-8562-4186-a49a-43c3fd8020ba
✅ Authentication successful for user ID: f8465b52-d8ca-4f66-91a8-428b3f065df6
🔍 Searching for user with ID: f8465b52-d8ca-4f66-91a8-428b3f065df6
🔍 User ID type: string
🔍 User ID length: 36
🔍 Executing query: SELECT id, name, surname FROM "User" WHERE id = $1 with parameter: f8465b52-d8ca-4f66-91a8-428b3f065df6
📊 Found 2 available versions
🔍 Fetching support materials for machine: f1b2d59d-c02c-4fe3-b5ee-047f4bf7c822
🔍 Query result rows count: 1
🔍 Found user data: {
  id: 'f8465b52-d8ca-4f66-91a8-428b3f065df6',
  name: 'admin2',
  surname: 'admin2'
}
 GET /api/get-username 304 in 64ms
 GET /api/db-status 200 in 63ms
📋 Support Material Type ID: 9313c048-5957-4416-aa4e-9e4a7e9f4089
📊 Found 2 support materials for machine: f1b2d59d-c02c-4fe3-b5ee-047f4bf7c822
 GET /api/db-status 200 in 53ms
 GET /api/db-status 200 in 65ms
 GET /api/db-status 200 in 64ms
✅ New database connection established
🔍 Fetching curing machines for material: 8be739d4-15ad-429e-baf2-2fa158429eac
📊 Found 0 curing machines for material: 8be739d4-15ad-429e-baf2-2fa158429eac
🔍 Fetching order context for: 32eaa430-6e70-46b4-a3bb-18b05e84efde with component base: 6d41d420-8562-4186-a49a-43c3fd8020ba
✅ Order context found: nova orçamentação
🔄 Processing response data...
🔄 Machine status: "Available" -> "Disponível"
🔄 Technology name: "Filament" -> "Filamento"
🔄 Material color: "Several colours" -> "Várias cores"
🔄 Material type: "Polyethylene Terephthalate Glycol" -> "Polietileno Tereftalato Glicol"
🔎 [GET] Component finishings for eligible lookup: [
  '09aedc80-dc61-4491-b14d-d5c7b9fbafa2',
  '1f2323ac-266e-40b7-ba65-8e14f395d3dc',
  '0a21c3d4-6569-4ad7-bdb7-484cd2fda3bf'
]
🗂 Loaded saved finishings/materials from budget: 66efbd61-506d-43c4-b369-a868085ccbe6 (keys=3)
🔎 [GET] Eligible materials SQL (by finishingIds) {
  finishingIds: [
    '09aedc80-dc61-4491-b14d-d5c7b9fbafa2',
    '1f2323ac-266e-40b7-ba65-8e14f395d3dc',
    '0a21c3d4-6569-4ad7-bdb7-484cd2fda3bf'
  ]
}
📋 [GET] Eligible materials result count: 0
📋 [GET] Eligible materials per finishing: {}
✅ Successfully fetched budget data
📊 Response summary: 2 versions, 2 support materials, 0 curing machines, 5 finishing types, 3 component finishings
 GET /api/get-component-budget-data?componentId=cc8b240d-f251-49f0-9ad4-ee94becb0fc4&orderId=32eaa430-6e70-46b4-a3bb-18b05e84efde 304 in 3072ms
API handler should not return a value, received object.
 OPTIONS /api/getorderdetails/32eaa430-6e70-46b4-a3bb-18b05e84efde 204 in 18ms
✅ Authentication successful for user ID: f8465b52-d8ca-4f66-91a8-428b3f065df6
 GET /api/getorderdetails/32eaa430-6e70-46b4-a3bb-18b05e84efde 304 in 1501ms
✅ Authentication successful for user ID: f8465b52-d8ca-4f66-91a8-428b3f065df6
 GET /api/getorderdetails/32eaa430-6e70-46b4-a3bb-18b05e84efde 304 in 1474ms